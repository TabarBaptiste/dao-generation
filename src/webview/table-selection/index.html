<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'none'; style-src {{cspSource}} 'unsafe-inline' https://unpkg.com; font-src https://unpkg.com; script-src {{cspSource}} 'unsafe-inline';">
    <title>Table Selection</title>
    <link rel="stylesheet" href="https://unpkg.com/@vscode/codicons@0.0.35/dist/codicon.css">
    <link rel="stylesheet" type="text/css" href="{{cssUri}}">
</head>

<body>
    <div class="header">
        <h1>
            <i class="codicon codicon-database"></i>
            Génération DAO
        </h1>
        <div class="subtitle">
            <i class="codicon codicon-server"></i>
            Base de données: <strong id="databaseName"></strong> sur <span id="hostName"></span>
        </div>
    </div>

    <div class="tables-section">
        <div class="section-title">Sélection des tables</div>
        
        <div class="search-container">
            <div class="search-box">
                <i class="codicon codicon-search"></i>
                <input type="text" id="searchInput" placeholder="Rechercher une table..." autocomplete="off">
                <button type="button" id="clearSearchBtn" class="clear-btn" title="Effacer la recherche">
                    <i class="codicon codicon-close"></i>
                </button>
            </div>
        </div>
        
        <div class="table-controls">
            <button type="button" class="secondary-btn" id="selectAllBtn">
                <i class="codicon codicon-check-all"></i>
                Tout sélectionner
            </button>
            <button type="button" class="secondary-btn" id="selectNoneBtn">
                <i class="codicon codicon-clear-all"></i>
                Tout déselectionner
            </button>
            <span class="selected-count" id="selectedCount">
                <i class="codicon codicon-info"></i>
                0 table(s) sélectionnée(s)
            </span>
        </div>
        <div class="table-list" id="tableList">
            <!-- Tables will be dynamically added here -->
        </div>
    </div>

    <div class="options-section">
        <div class="section-title">
            <i class="codicon codicon-settings-gear"></i>
            Options de génération
        </div>
        <div class="radio-group">
            <div class="radio-item">
                <label>
                    <input type="radio" name="mode" value="save" checked>
                    <i class="codicon codicon-save"></i>
                    Sauvegarder
                </label>
            </div>
            <div class="radio-item">
                <label>
                    <input type="radio" name="mode" value="overwrite">
                    <i class="codicon codicon-replace"></i>
                    Écraser
                </label>
            </div>
        </div>
    </div>

    <div class="actions">
        <button type="button" id="generateBtn">
            <i class="codicon codicon-play"></i>
            Générer DAO
        </button>
    </div>

    <script src="{{jsUri}}"></script>
</body>

</html>